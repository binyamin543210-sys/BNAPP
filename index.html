<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>B&N לוח שנה</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-wrapper">
    <!-- כותרת עליונה -->
    <header class="app-header">
      <div class="logo">
        <div class="logo-circle">B&N</div>
        <div class="logo-text">
          <div class="logo-title">B&N לוח שנה</div>
          <div class="logo-sub">שבת · חגים · אירועים · משימות</div>
        </div>
      </div>

      <div class="header-controls">
        <button id="themeToggle" class="icon-button" title="מצב לילה">
          🌙
        </button>
      </div>
    </header>

    <!-- ניווט עליון -->
    <nav class="top-nav">
      <button class="nav-btn active" data-view="calendar">לוח שנה</button>
      <button class="nav-btn" data-view="today">היום שלי</button>
      <button class="nav-btn" data-view="tasks">משימות</button>
      <button class="nav-btn" data-view="free">Free time</button>
    </nav>

    <!-- תוכן ראשי -->
    <main class="main-layout">
      <!-- אזור שמאלי – לוח שנה -->
      <section id="calendarView" class="view active">
        <div class="calendar-header">
          <button id="prevMonth" class="icon-button">◀</button>
          <div class="month-label">
            <span id="monthName"></span>
            <span id="yearNumber"></span>
          </div>
          <button id="nextMonth" class="icon-button">▶</button>
        </div>

        <div class="calendar-meta">
          <span id="hebrewMonth"></span>
          <span id="jewishYear"></span>
        </div>

        <div class="calendar-grid" id="calendarGrid">
          <!-- ימים נבנים ע"י JS -->
        </div>
      </section>

      <!-- אזור ימני – פאנלים -->
      <section class="side-panels">
        <!-- בחירת יום + אירועים -->
        <section class="panel" id="dayPanel">
          <header class="panel-header">
            <h2 id="selectedDateTitle">בחר יום</h2>
            <span id="selectedHebrewDate" class="sub-label"></span>
          </header>

          <div class="events-list" id="eventsList">
            <p class="empty-msg">אין אירועים ליום זה.</p>
          </div>

          <button id="addEventBtn" class="primary-button full-width">
            + הוסף אירוע / משימה ליום זה
          </button>
        </section>

        <!-- פאנל היום שלי -->
        <section class="panel view" id="todayView">
          <header class="panel-header">
            <h2>היום שלי</h2>
          </header>
          <div id="todaySummary" class="today-summary"></div>
        </section>

        <!-- פאנל משימות -->
        <section class="panel view" id="tasksView">
          <header class="panel-header">
            <h2>משימות</h2>
          </header>
          <div id="tasksList" class="tasks-list"></div>
          <button id="addTaskBtn" class="secondary-button full-width">
            + משימה חדשה
          </button>
        </section>

        <!-- פאנל Free time -->
        <section class="panel view" id="freeView">
          <header class="panel-header">
            <h2>Free time</h2>
            <div class="small-label">
              חישוב הזמנים הפנויים שלך לפי האירועים היומיים
            </div>
          </header>
          <div id="freeTimeContent" class="free-time"></div>
        </section>
      </section>
    </main>
  </div>

  <!-- מודאל יצירת / עריכת אירוע -->
  <div id="eventModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <header class="modal-header">
        <h2 id="eventModalTitle">אירוע חדש</h2>
        <button id="closeEventModal" class="icon-button">✕</button>
      </header>

      <div class="modal-body">
        <label class="field">
          שם האירוע
          <input id="eventTitle" type="text" placeholder="לדוגמה: יום הולדת, פגישה, שבת אצל ההורים" />
        </label>

        <label class="field">
          תאריך
          <input id="eventDate" type="date" />
        </label>

        <label class="field">
          שעה (לא חובה)
          <input id="eventTime" type="time" />
        </label>

        <label class="field">
          סוג
          <select id="eventType">
            <option value="event">אירוע</option>
            <option value="task">משימה</option>
            <option value="birthday">יום הולדת</option>
          </select>
        </label>

        <label class="field">
          כתובת (לווייז, לא חובה)
          <input id="eventAddress" type="text" placeholder="רחוב / עיר / מקום" />
        </label>

        <label class="field">
          תיאור
          <textarea id="eventNotes" rows="2" placeholder="פרטים חשובים לאירוע"></textarea>
        </label>

        <div class="field inline">
          <label>
            <input type="checkbox" id="eventReminder" />
            תזכורת
          </label>

          <select id="eventReminderMinutes">
            <option value="60">שעה לפני</option>
            <option value="30">30 דק' לפני</option>
            <option value="10">10 דק' לפני</option>
            <option value="1440">יום לפני</option>
            <option value="2880">יומיים לפני</option>
          </select>
        </div>

        <div class="field">
          סאונד תזכורת
          <select id="eventSound">
            <option value="sound1">Classic</option>
            <option value="sound2">Soft</option>
            <option value="sound3">Pop</option>
            <option value="sound4">Ping</option>
            <option value="sound5">Short</option>
          </select>
        </div>

        <div class="field">
          חזרה
          <select id="eventRepeat">
            <option value="none">בלי חזרה</option>
            <option value="daily">יומי</option>
            <option value="weekly">שבועי</option>
            <option value="monthly">חודשי</option>
            <option value="yearly">שנתי</option>
          </select>
        </div>

        <div class="field">
          Check-list לאירוע (שורה בכל שורה)
          <textarea id="eventChecklist" rows="3" placeholder="להביא עוגה&#10;לקנות מתנה&#10;לבדוק חניה"></textarea>
        </div>

        <div class="field">
          <label>
            <input type="checkbox" id="eventIsAllDevices" checked />
            התראה תופיע בכל המכשירים (ברירת מחדל)
          </label>
        </div>
      </div>

      <footer class="modal-footer">
        <button id="deleteEventBtn" class="danger-button left hidden">מחק</button>
        <button id="saveEventBtn" class="primary-button">שמור</button>
      </footer>
    </div>
  </div>

  <!-- מודאל משימה -->
  <div id="taskModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <header class="modal-header">
        <h2>משימה חדשה</h2>
        <button id="closeTaskModal" class="icon-button">✕</button>
      </header>

      <div class="modal-body">
        <label class="field">
          כותרת המשימה
          <input id="taskTitle" type="text" placeholder="לדוגמה: לקנות לחם, לשלם חשבון" />
        </label>

        <label class="field">
          תאריך יעד (לא חובה)
          <input id="taskDueDate" type="date" />
        </label>

        <label class="field">
          הערות
          <textarea id="taskNotes" rows="2"></textarea>
        </label>
      </div>

      <footer class="modal-footer">
        <button id="saveTaskBtn" class="primary-button">שמור</button>
      </footer>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
